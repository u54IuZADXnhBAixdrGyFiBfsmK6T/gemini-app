{% extends "base.html" %}

{% block title %}Á≠ã„Éà„É¨Ë®òÈå≤{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/record_workout.css') }}">
{% endblock %}

{% block content %}
<div class="app-container">
    <!-- PCÁâà: 2„Ç´„É©„É†„É¨„Ç§„Ç¢„Ç¶„Éà -->
    <div class="layout-wrapper">
        <!-- Â∑¶„Ç´„É©„É†: „Ç´„É¨„É≥„ÉÄ„Éº + Áµ±Ë®à + „Ç∞„É©„Éï -->
        <div class="left-column">
            <!-- „Ç´„É¨„É≥„ÉÄ„Éº„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <div class="calendar-section">
                <div class="calendar-header">
                    <button class="nav-btn" id="prevMonth">&lt;</button>
                    <div class="calendar-title-wrapper">
                        <div class="calendar-month" id="calendarMonth">December</div>
                        <div class="calendar-year" id="calendarYear">2025</div>
                    </div>
                    <button class="nav-btn" id="nextMonth">&gt;</button>
                </div>
                
                <div class="calendar-weekdays">
                    <div class="weekday">SUN</div>
                    <div class="weekday">MON</div>
                    <div class="weekday">TUE</div>
                    <div class="weekday">WED</div>
                    <div class="weekday">THU</div>
                    <div class="weekday">FRI</div>
                    <div class="weekday">SAT</div>
                </div>
                <div class="calendar-days" id="calendarDays"></div>
            </div>
            
            <!-- Áµ±Ë®àË°®Á§∫ -->
            <div class="stats-section">
                <div class="stat-item">
                    <span class="stat-label">MONTHLY ARCHIVE</span>
                    <span class="stat-value" id="monthlyDaysDisplay">0 days</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">TOTAL</span>
                    <span class="stat-value" id="yearlyDaysDisplay">0 days</span>
                </div>
            </div>
            
            <!-- ÈÄ±Èñì„Ç∞„É©„Éï -->
            <div class="graph-section">
                <div class="graph-header">
                    <span class="graph-label">‰ªäÈÄ±„ÅÆÁ∑èË≤†Ëç∑Èáè</span>
                    <span class="graph-value" id="currentWeekVolume">0 kg</span>
                </div>
                <div class="graph-container" id="weeklyGraphContainer">
                    <!-- „Ç∞„É©„Éï„ÅåJS„ÅßÂãïÁöÑÁîüÊàê„Åï„Çå„Çã -->
                </div>
            </div>
        </div>
        
        <!-- Âè≥„Ç´„É©„É†: „Éú„Çø„É≥ + Á®ÆÁõÆ„É™„Çπ„Éà -->
        <div class="right-column">
            <!-- „Éà„É¨„Éº„Éã„É≥„Ç∞ËøΩÂä†„Éú„Çø„É≥ -->
            <button class="add-training-btn" id="addTrainingBtn">
                <div class="add-icon">Ôºã</div>
                <span>Êú¨Êó•„ÅÆ„Éà„É¨„Éº„Éã„É≥„Ç∞„ÇíËøΩÂä†</span>
            </button>
            
            <!-- Á®ÆÁõÆ„Ç´„Éº„ÉâË°®Á§∫„Ç®„É™„Ç¢ -->
            <div id="exerciseCardsContainer"></div>
        </div>
    </div>

    <!-- Á®ÆÁõÆÈÅ∏Êäû„É¢„Éº„ÉÄ„É´ -->
    <div class="modal" id="exerciseModal" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-sheet">
            <div class="modal-header">
                <h2>Á®ÆÁõÆ„ÇíÈÅ∏Êäû</h2>
                <button class="modal-close-btn" id="closeExerciseModal">√ó</button>
            </div>
            <div class="modal-body" id="exerciseList"></div>
        </div>
    </div>

    <!-- „Çª„ÉÉ„ÉàÂÖ•Âäõ„É¢„Éº„ÉÄ„É´ -->
    <div class="modal" id="setInputModal" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-sheet set-input-sheet">
            <div class="modal-header">
                <h2 id="exerciseName">„Éô„É≥„ÉÅ„Éó„É¨„Çπ</h2>
                <div class="modal-header-actions">
                    <button class="icon-btn" id="videoBtn" title="ÂãïÁîª„ÇíË¶ã„Çã">üìπ</button>
                    <button class="icon-btn success-btn" id="completeBtn" title="ÂÆå‰∫Ü">‚úì</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="input-table-container">
                    <table class="input-table">
                        <thead>
                            <tr>
                                <th>SET</th>
                                <th>ÈáçÈáè(kg)</th>
                                <th>lbs</th>
                                <th>ÂõûÊï∞</th>
                                <th>RM</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="setsTableBody"></tbody>
                    </table>
                </div>
                <button class="add-set-btn" id="addSetBtn">
                    <span>Ôºã</span> „Çª„ÉÉ„Éà„ÇíËøΩÂä†
                </button>
            </div>
        </div>
    </div>

    <!-- FAB -->
    <button class="fab" id="fabBtn" title="Á®ÆÁõÆ„ÇíËøΩÂä†">Ôºã</button>

    <!-- „Éà„Éº„Çπ„Éà -->
    <div id="toastContainer"></div>
</div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/record_workout.js') }}"></script>
{% endblock %}